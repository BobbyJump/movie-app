<section class="home">
    <app-modal
        (modalEvent)="showModal($event)"
        [show]="modal"
    ></app-modal>
    <div class="container">
        <h1>–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</h1>
        <p class="description">–ù–∞ —Ü—å–æ–º—É –ø–æ—Ä—Ç–∞–ª—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ <span>–Ω–∞–π–∫—Ä–∞—â—ñ —Ñ—ñ–ª—å–º–∏ —Ç–∞ —Å–µ—Ä—ñ–∞–ª–∏</span> –∑ –ø–æ–º—ñ–∂ –º—ñ–ª—å–π–æ–Ω—ñ–≤ –∫—ñ–Ω–æ—Å—Ç—Ä—ñ—á–æ–∫ –≤—ñ–¥ –ø—Ä–æ–≤—ñ–¥–Ω–∏—Ö —Ä–µ–∂–∏—Å–µ—Ä—ñ–≤ —Å–≤—ñ—Ç–æ–≤–æ–≥–æ —Ä—ñ–≤–Ω—è. <span>–°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤–æ—é –≤–ª–∞—Å–Ω—É –Ω–µ–ø–æ–≤—Ç–æ—Ä–Ω—É –≥–∞–ª–µ—Ä–µ—é —Ñ—ñ–ª—å–º—ñ–≤ —Ç–∞ —Å–µ—Ä—ñ–∞–ª—ñ–≤</span>, –æ—Ü—ñ–Ω—é–π—Ç–µ —ó—Ö —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–π—Ç–µ —Å–≤–æ—ó–º –¥—Ä—É–∑—è–º üòâ</p>
        <div class="buttons-wrap">
            <button 
                class="search-button"
                [ngClass]="{'active': activeBtn === 'movies'}"
                (click)="showMovies()"
            >–§—ñ–ª—å–º–∏</button>
            <button
                class="search-button"
                [ngClass]="{'active': activeBtn === 'tv'}"
                (click)="showTvShows()"
            >–°–µ—Ä—ñ–∞–ª–∏</button>
        </div>
        <div class="genres-wrap">
            <h3 class="genres-header" (click)="showGenres = !showGenres">–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –∂–∞–Ω—Ä–∞–º <span>(–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∂–∞–Ω—Ä–∏)</span></h3>
            <div class="buttons-wrap" *ngIf="showGenres">
                <button
                    *ngFor="let genre of genres; let i = index"
                    class="search-button"
                    [class.active]="selectedIndex === i"
                    (click)="getItemsByGenre(genre.id, i)"
                >{{genre.name}}</button>
            </div>
        </div>
        <div class="movies">
            <h3 class="movies__header">–ü—ñ–¥–±—ñ—Ä–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏—Ö {{ suggest }}.<br/>–ú–æ–∂–ª–∏–≤–æ, —â–æ—Å—å —Å–ø–æ–¥–æ–±–∞—î—Ç—å—Å—è.</h3>
            <ul class="movies__list">
                <ng-container *ngIf="activeBtn === 'all' || activeBtn === 'movies'">
                    <app-movie-card
                        *ngFor="let movie of movies"
                        [movie]="movie"
                        [suggest]="true"
                        (modalEvent)="showModal($event)"
                    ></app-movie-card>
                </ng-container>
                <ng-container *ngIf="activeBtn === 'all' || activeBtn === 'tv'">
                    <app-tv-card
                        *ngFor="let tv of tvShows"
                        [tv]="tv"
                        [suggest]="true"
                        (modalEvent)="showModal($event)"
                    ></app-tv-card>
                </ng-container>
            </ul>
        </div>
        <div class="pagination">
            <button [disabled]="currentItem === 0" (click)="decrement()">–ü–æ–ø–µ—Ä–µ–¥–Ω—è</button>
            <div class="pag-wrap" *ngIf="currentItem > 0">
                <button class="item" (click)="setCurrent(0)">1</button>
                <div class="dots">. . .</div>
            </div>
            <ng-container *ngFor="let page of totalPages; let i = index">
                <button
                    [class.active]="i === currentItem"
                    class="item"
                    *ngIf="i === currentItem || i === currentItem + 1 || i === currentItem + 2"
                    (click)="setCurrent(i)"
                >{{i + 1}}</button>
            </ng-container>
            <div class="pag-wrap" *ngIf="currentItem < totalPages.length - 1">
                <div class="dots">. . .</div>
                <button class="item" (click)="setCurrent(totalPages.length - 1)">{{totalPages.length}}</button>
            </div>
            <button 
                [disabled]="currentItem === totalPages.length - 1" 
                (click)="increment()"
            >–ù–∞—Å—Ç—É–ø–Ω–∞</button>
        </div>
    </div>
</section>
